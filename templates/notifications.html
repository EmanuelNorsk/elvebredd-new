<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications</title>
    <script src="/static/js/notifications.js"></script>
    <link rel="stylesheet" href="https://use.typekit.net/uju1lhj.css">
    <link rel="stylesheet" href="/static/css/notifications.css">
</head>
<body>
    <header>
        {% include "header.html" %}
    </header>
    <main style="width:100%;display:flex;justify-content:center;flex-direction:row;">
        <div id="notificationsFullscreen">
            <div>
                <img src="/static/images/misc/arrow.png">
                <p>Notifications</p>
                <div>
                    <div onclick="selectCategory()">
                        <p>All</p>
                        <img src="/static/images/misc/x.png">
                    </div>
                    <div onclick="selectNewCategory(event)">
                        <p>All</p>
                        <p>Listings</p>
                        <p>Value Updates</p>
                        <p>Other</p>
                    </div>
                </div>
            </div>
            <div>
                <div></div>
                <p>Last 24 Hours</p>
                <div></div>
            </div>
            <div id="last24HoursNotifications" class="notificationsContainer">
                <div>
                    <img src="/static/images/notifications/default.png">
                    <div>
                        <p>Head</p>
                        <p>Body Body Body Body</p>
                    </div>
                    <p>10m</p>
                </div>
                <div>
                    <img src="/static/images/notifications/default.png">
                    <div>
                        <p>Head</p>
                        <p>Body Body Body Body</p>
                    </div>
                    <p>10m</p>
                </div>
                <div>
                    <img src="/static/images/notifications/default.png">
                    <div>
                        <p>Head</p>
                        <p>Body Body Body Body</p>
                    </div>
                    <p>10m</p>
                </div>
            </div>
            <div>
                <div></div>
                <p>Old</p>
                <div></div>
            </div>
            <div id="last24HoursNotifications" class="notificationsContainer">
                <div>
                    <img src="/static/images/profile/coolDragon.png">
                    <div>
                        <p>Head</p>
                        <p>Body Body Body Body</p>
                    </div>
                    <p>10m</p>
                </div>
                <div>
                    <img src="/static/images/notifications/default.png">
                    <div>
                        <p>Head</p>
                        <p>Body Body Body Body</p>
                    </div>
                    <p>10m</p>
                </div>
                <div>
                    <img src="/static/images/notifications/default.png">
                    <div>
                        <p>Head</p>
                        <p>Body Body Body Body</p>
                    </div>
                    <p>10m</p>
                </div>
            </div>
        </div>
    </main>
    <footer>
        {% include "footer.html" %}
    </footer>
</body>
</html>

<!--<script>
    var notificationsLoaded = 0
    var notifications = []
    var allNotifications = document.getElementById("allNotifications")
    var loadMoreNotificationsButton = document.getElementById("loadMoreNotificationsButton")
    var notificationsDiv = document.getElementById("notificationsDiv")
    var profileNotifications = document.getElementById("profileNotifications")

    window.addEventListener("resize", (event) => {
        if (notificationsDiv != undefined) {
            notificationsDiv.style.display = "none"
        }
        if (profileNotifications != undefined) {
            profileNotifications.style.display = "none"
        }
    })

    if (notificationsDiv != undefined) {
            notificationsDiv.style.display = "none"
        }
        if (profileNotifications != undefined) {
            profileNotifications.style.display = "none"
        }

    function readNotifications() {
        formData = new FormData();
        formData.append('action', "readNotifications");

        fetch('/api', {
        method: 'POST',
        body: formData
        })
        .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
        })
        .then(data => {
        if (data == "SUCCESS") {
            notificationCountID.innerHTML = "0";
            notificationCountDiv.style.display = "none";
        }
        })
        .catch(error => {
        console.error('There was a problem with the fetch operation:', error);
        });
    };

    function displayNotifications() {
        formData = new FormData();
        formData.append('loaded', notificationsLoaded);
        formData.append('action', "get20Notifications");

        fetch('/api', {
        method: 'POST',
        body: formData
        })
        .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
        })
        .then(data => {
            allNotifications.innerHTML = ""
            notifications = notifications.concat(data)
            notificationsLoaded += data.length
            for (const i in notifications) {
                    const notificationDiv = document.createElement("div")
                    notificationDiv.style.height = "max(6vw, 12vh)"
                    notificationDiv.style.width = "100%"
                    notificationDiv.style.display = "flex"
                    notificationDiv.style.justifyContent = "center"
                    notificationDiv.style.alignItems = "center"
                    notificationDiv.style.flexDirection = "row"
                    notificationDiv.style.alignItems = "center"
                    notificationDiv.style.gap = "max(1vw, 2vh)"

                    const img = document.createElement("img")
                    img.src = "/static/images/notifications/default.png"

                    img.style.width = "auto"
                    img.style.height = "max(3vw, 6vh)"
                    
                    notificationDiv.appendChild(img)

                    const notificationInfo = document.createElement("div")
                    notificationInfo.className = "notificationInfo"

                    const head = document.createElement("b")
                    const body = document.createElement("p")
                    head.style.fontSize = "max(1.6vw, 3.2vh)"
                    body.style.fontSize = "max(1.2vw, 2.4vh)"
                    body.style.margin = "0px"
                    if ("head" in notifications[i]) {
                        head.innerText = notifications[i]["head"]
                        notificationInfo.appendChild(head)
                    }
                    body.innerText = notifications[i]["body"]
                    notificationInfo.appendChild(body)
                    notificationDiv.appendChild(notificationInfo)

                    allNotifications.appendChild(notificationDiv)
            }
            if (data.length < 20) {
                loadMoreNotificationsButton.style.display = "none"
            }
            readNotifications()
        })
        .catch(error => {
        console.error('There was a problem with the fetch operation:', error);
        });
    }

    displayNotifications()
</script> -->
